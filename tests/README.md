# –¢–µ—Å—Ç—ã –¥–ª—è Production Analysis API

## –ü—Ä–æ—Å—Ç–æ–π —Ç–µ—Å—Ç –¥–ª—è –æ–±—É—á–µ–Ω–∏—è —Å—Ç—É–¥–µ–Ω—Ç–æ–≤

### –§–∞–π–ª: `test_field_endpoint.py`

–≠—Ç–æ—Ç —Ç–µ—Å—Ç –¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É–µ—Ç –±–∞–∑–æ–≤—ã–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è API:

1. **–°–æ–∑–¥–∞–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–∞** - POST –∑–∞–ø—Ä–æ—Å –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –º–µ—Å—Ç–æ—Ä–æ–∂–¥–µ–Ω–∏—è
2. **–ü—Ä–æ–≤–µ—Ä–∫–∞ –æ—Ç–≤–µ—Ç–∞** - –≤–∞–ª–∏–¥–∞—Ü–∏—è —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –∏ –¥–∞–Ω–Ω—ã—Ö –æ—Ç–≤–µ—Ç–∞
3. **–ü—Ä–æ–≤–µ—Ä–∫–∞ –ë–î** - —É–±–µ–∂–¥–∞–µ–º—Å—è, —á—Ç–æ –¥–∞–Ω–Ω—ã–µ —Å–æ—Ö—Ä–∞–Ω–∏–ª–∏—Å—å –≤ –±–∞–∑–µ
4. **–ü–æ–ª—É—á–µ–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–∞** - GET –∑–∞–ø—Ä–æ—Å –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏
5. **–û—á–∏—Å—Ç–∫–∞** - DELETE –∑–∞–ø—Ä–æ—Å –¥–ª—è —É–¥–∞–ª–µ–Ω–∏—è —Ç–µ—Å—Ç–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö

### –ö–∞–∫ –∑–∞–ø—É—Å—Ç–∏—Ç—å —Ç–µ—Å—Ç

#### –í–∞—Ä–∏–∞–Ω—Ç 1: –ü—Ä–æ—Å—Ç–æ–π –∑–∞–ø—É—Å–∫ (–±–µ–∑ pytest)
```bash
# –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω–æ
source .venv/bin/activate

# –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Ç–µ—Å—Ç
python tests/test_field_endpoint.py
```

#### –í–∞—Ä–∏–∞–Ω—Ç 2: –° pytest (–µ—Å–ª–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω)
```bash
# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ pytest –µ—Å–ª–∏ –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
pip install pytest pytest-asyncio

# –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Ç–µ—Å—Ç
pytest tests/test_field_endpoint.py -v
```

### –ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

1. **Backend API** –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –∑–∞–ø—É—â–µ–Ω –Ω–∞ `http://localhost:8000`
2. **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö PostgreSQL** –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –∑–∞–ø—É—â–µ–Ω–∞ –∏ –¥–æ—Å—Ç—É–ø–Ω–∞
3. **–í–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ** –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω–æ

### –ß—Ç–æ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç —Ç–µ—Å—Ç

- ‚úÖ –°–æ–∑–¥–∞–Ω–∏–µ –º–µ—Å—Ç–æ—Ä–æ–∂–¥–µ–Ω–∏—è —á–µ—Ä–µ–∑ POST API
- ‚úÖ –ö–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å HTTP —Å—Ç–∞—Ç—É—Å –∫–æ–¥–∞ (201)
- ‚úÖ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –æ—Ç–≤–µ—Ç–∞ API
- ‚úÖ –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ –¥–∞–Ω–Ω—ã—Ö –≤ –æ—Ç–≤–µ—Ç–µ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–º –¥–∞–Ω–Ω—ã–º
- ‚úÖ –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö
- ‚úÖ –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–æ–∑–¥–∞–Ω–Ω–æ–≥–æ –º–µ—Å—Ç–æ—Ä–æ–∂–¥–µ–Ω–∏—è —á–µ—Ä–µ–∑ GET API
- ‚úÖ –£–¥–∞–ª–µ–Ω–∏–µ –º–µ—Å—Ç–æ—Ä–æ–∂–¥–µ–Ω–∏—è —á–µ—Ä–µ–∑ DELETE API
- ‚úÖ –û—á–∏—Å—Ç–∫–∞ –∏–∑ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

### –û–∂–∏–¥–∞–µ–º—ã–π –≤—ã–≤–æ–¥

```
üß™ –ó–∞–ø—É—Å–∫ –ø—Ä–æ—Å—Ç–æ–≥–æ —Ç–µ—Å—Ç–∞ –¥–ª—è —ç–Ω–¥–ø–æ–π–Ω—Ç–∞ –º–µ—Å—Ç–æ—Ä–æ–∂–¥–µ–Ω–∏–π
============================================================
–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ:
1. Backend API –∑–∞–ø—É—â–µ–Ω –Ω–∞ http://localhost:8000
2. –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö PostgreSQL –∑–∞–ø—É—â–µ–Ω–∞
============================================================
‚úÖ –ú–µ—Å—Ç–æ—Ä–æ–∂–¥–µ–Ω–∏–µ —Å–æ–∑–¥–∞–Ω–æ —Å ID: 123
‚úÖ –ú–µ—Å—Ç–æ—Ä–æ–∂–¥–µ–Ω–∏–µ –Ω–∞–π–¥–µ–Ω–æ –≤ –ë–î: –¢–µ—Å—Ç–æ–≤–æ–µ –º–µ—Å—Ç–æ—Ä–æ–∂–¥–µ–Ω–∏–µ
‚úÖ –ú–µ—Å—Ç–æ—Ä–æ–∂–¥–µ–Ω–∏–µ —É—Å–ø–µ—à–Ω–æ –ø–æ–ª—É—á–µ–Ω–æ —á–µ—Ä–µ–∑ GET API
‚úÖ –ú–µ—Å—Ç–æ—Ä–æ–∂–¥–µ–Ω–∏–µ —É—Å–ø–µ—à–Ω–æ —É–¥–∞–ª–µ–Ω–æ
üéâ –í—Å–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ—à–ª–∏ —É—Å–ø–µ—à–Ω–æ!
```

### –û–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª—å–Ω–∞—è —Ü–µ–Ω–Ω–æ—Å—Ç—å

–≠—Ç–æ—Ç —Ç–µ—Å—Ç –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å—Ç—É–¥–µ–Ω—Ç–∞–º:

1. **–°—Ç—Ä—É–∫—Ç—É—Ä—É —Ç–µ—Å—Ç–∞** - setup, test, teardown
2. **HTTP –∫–ª–∏–µ–Ω—Ç** - –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ httpx –¥–ª—è API –∑–∞–ø—Ä–æ—Å–æ–≤
3. **–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–µ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ** - async/await
4. **–ü—Ä–æ–≤–µ—Ä–∫–∏ (assertions)** - —Ä–∞–∑–ª–∏—á–Ω—ã–µ —Ç–∏–ø—ã –ø—Ä–æ–≤–µ—Ä–æ–∫
5. **–†–∞–±–æ—Ç–∞ —Å –ë–î** - SQLAlchemy –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –¥–∞–Ω–Ω—ã—Ö
6. **–û—á–∏—Å—Ç–∫–∞ —Ä–µ—Å—É—Ä—Å–æ–≤** - –≤–∞–∂–Ω–æ—Å—Ç—å —É–¥–∞–ª–µ–Ω–∏—è —Ç–µ—Å—Ç–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö
7. **–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫** - try/finally –¥–ª—è –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ–π –æ—á–∏—Å—Ç–∫–∏
